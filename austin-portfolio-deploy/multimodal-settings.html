<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multimodal Settings | Blaze Intelligence Configuration</title>

    <style>
        :root {
            --blaze-orange: #BF5700;
            --championship-gold: #FFD700;
            --neural-green: #00FF41;
            --deep-navy: #002244;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: linear-gradient(135deg, #0c1222 0%, #1a2744 50%, #0f1419 100%);
            color: white;
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--blaze-orange), var(--championship-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
        }

        .settings-card {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 2rem;
            border: 1px solid rgba(191, 87, 0, 0.2);
        }

        .settings-card h2 {
            color: var(--championship-gold);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #aaa;
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--blaze-orange);
            background: rgba(255, 255, 255, 0.15);
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: 0.5rem;
        }

        .status-indicator.valid {
            background: var(--neural-green);
        }

        .status-indicator.invalid {
            background: #ff4444;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--blaze-orange), #C41E3A);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(191, 87, 0, 0.4);
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .alert.success {
            background: rgba(0, 255, 65, 0.1);
            border: 1px solid var(--neural-green);
            color: var(--neural-green);
        }

        .alert.error {
            background: rgba(255, 68, 68, 0.1);
            border: 1px solid #ff4444;
            color: #ff4444;
        }

        .nav-links {
            text-align: center;
            margin-top: 2rem;
        }

        .nav-links a {
            color: var(--championship-gold);
            text-decoration: none;
            margin: 0 1rem;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--blaze-orange);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .slider {
            flex: 1;
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: var(--blaze-orange);
            border-radius: 50%;
            cursor: pointer;
        }

        .slider-value {
            min-width: 60px;
            text-align: right;
            color: var(--neural-green);
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öôÔ∏è Multimodal Intelligence Settings</h1>
            <p style="color: #aaa;">Configure your Blaze Intelligence championship platform</p>
        </div>

        <div id="alertContainer"></div>

        <div class="settings-grid">
            <!-- API Keys Configuration -->
            <div class="settings-card">
                <h2>üîë API Keys</h2>

                <div class="form-group">
                    <label>
                        OpenAI API Key
                        <span id="openaiStatus" class="status-indicator"></span>
                    </label>
                    <input type="password" id="openaiKey" placeholder="sk-...">
                </div>

                <div class="form-group">
                    <label>
                        Anthropic (Claude) API Key
                        <span id="anthropicStatus" class="status-indicator"></span>
                    </label>
                    <input type="password" id="anthropicKey" placeholder="sk-ant-...">
                </div>

                <div class="form-group">
                    <label>
                        Google Gemini API Key
                        <span id="geminiStatus" class="status-indicator"></span>
                    </label>
                    <input type="password" id="geminiKey" placeholder="AIza...">
                </div>

                <div class="form-group">
                    <label>
                        HuggingFace API Token
                        <span id="huggingfaceStatus" class="status-indicator"></span>
                    </label>
                    <input type="password" id="huggingfaceKey" placeholder="hf_...">
                </div>

                <div class="btn-group">
                    <button class="btn" onclick="saveApiKeys()">Save Keys</button>
                    <button class="btn" onclick="testApiKeys()">Test All</button>
                </div>
            </div>

            <!-- Performance Settings -->
            <div class="settings-card">
                <h2>‚ö° Performance Settings</h2>

                <div class="form-group">
                    <label>Target Latency (ms)</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="targetLatency" min="50" max="500" value="100">
                        <span class="slider-value" id="latencyValue">100ms</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Video FPS</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="videoFPS" min="15" max="60" value="30">
                        <span class="slider-value" id="fpsValue">30</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Decision Threshold</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="decisionThreshold" min="0.5" max="1" step="0.05" value="0.85">
                        <span class="slider-value" id="thresholdValue">0.85</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Audio Sample Rate</label>
                    <select id="audioSampleRate">
                        <option value="8000">8 kHz</option>
                        <option value="16000" selected>16 kHz</option>
                        <option value="44100">44.1 kHz</option>
                        <option value="48000">48 kHz</option>
                    </select>
                </div>

                <button class="btn" onclick="savePerformanceSettings()">Apply Settings</button>
            </div>

            <!-- Model Selection -->
            <div class="settings-card">
                <h2>ü§ñ AI Model Selection</h2>

                <div class="form-group">
                    <label>Vision Model</label>
                    <select id="visionModel">
                        <option value="coco-ssd">COCO-SSD (Fast)</option>
                        <option value="yolo">YOLO v5 (Balanced)</option>
                        <option value="mediapipe">MediaPipe (Accurate)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Audio Model</label>
                    <select id="audioModel">
                        <option value="web-speech-api">Web Speech API (Fast)</option>
                        <option value="whisper">OpenAI Whisper (Accurate)</option>
                        <option value="riva">NVIDIA Riva (Pro)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>LLM Provider</label>
                    <select id="llmProvider">
                        <option value="openai">OpenAI GPT-4</option>
                        <option value="anthropic">Anthropic Claude</option>
                        <option value="gemini">Google Gemini</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Model Temperature</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="temperature" min="0" max="1" step="0.1" value="0.7">
                        <span class="slider-value" id="tempValue">0.7</span>
                    </div>
                </div>

                <button class="btn" onclick="saveModelSettings()">Save Models</button>
            </div>

            <!-- Team Preferences -->
            <div class="settings-card">
                <h2>üèÜ Team Preferences</h2>

                <div class="form-group">
                    <label>Primary MLB Team</label>
                    <select id="mlbTeam">
                        <option value="Cardinals" selected>St. Louis Cardinals</option>
                        <option value="Astros">Houston Astros</option>
                        <option value="Yankees">New York Yankees</option>
                        <option value="Dodgers">Los Angeles Dodgers</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Primary NFL Team</label>
                    <select id="nflTeam">
                        <option value="Titans" selected>Tennessee Titans</option>
                        <option value="Chiefs">Kansas City Chiefs</option>
                        <option value="Cowboys">Dallas Cowboys</option>
                        <option value="49ers">San Francisco 49ers</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Primary NCAA Team</label>
                    <select id="ncaaTeam">
                        <option value="Longhorns" selected>Texas Longhorns</option>
                        <option value="Alabama">Alabama Crimson Tide</option>
                        <option value="Georgia">Georgia Bulldogs</option>
                        <option value="Michigan">Michigan Wolverines</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Primary NBA Team</label>
                    <select id="nbaTeam">
                        <option value="Grizzlies" selected>Memphis Grizzlies</option>
                        <option value="Lakers">Los Angeles Lakers</option>
                        <option value="Celtics">Boston Celtics</option>
                        <option value="Warriors">Golden State Warriors</option>
                    </select>
                </div>

                <button class="btn" onclick="saveTeamPreferences()">Save Preferences</button>
            </div>

            <!-- Data Sources -->
            <div class="settings-card">
                <h2>üìä Data Sources</h2>

                <div class="form-group">
                    <label>Enable Live Data</label>
                    <select id="liveDataEnabled">
                        <option value="true" selected>Enabled</option>
                        <option value="false">Disabled</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Cache Duration (minutes)</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="cacheDuration" min="1" max="60" value="5">
                        <span class="slider-value" id="cacheValue">5 min</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>WebSocket URL</label>
                    <input type="text" id="websocketUrl" value="wss://blaze-intelligence.netlify.app/ws">
                </div>

                <div class="form-group">
                    <label>Max Reconnect Attempts</label>
                    <input type="number" id="maxReconnect" value="10" min="1" max="100">
                </div>

                <button class="btn" onclick="saveDataSettings()">Save Settings</button>
            </div>

            <!-- Export/Import -->
            <div class="settings-card">
                <h2>üíæ Configuration Management</h2>

                <div class="form-group">
                    <label>Export Configuration</label>
                    <p style="color: #888; font-size: 0.9rem; margin-bottom: 1rem;">
                        Download your current settings (API keys excluded)
                    </p>
                    <button class="btn" onclick="exportConfig()">Export Settings</button>
                </div>

                <div class="form-group" style="margin-top: 2rem;">
                    <label>Import Configuration</label>
                    <p style="color: #888; font-size: 0.9rem; margin-bottom: 1rem;">
                        Upload a previously exported configuration file
                    </p>
                    <input type="file" id="configFile" accept=".json" style="display: none;">
                    <button class="btn" onclick="document.getElementById('configFile').click()">Import Settings</button>
                </div>

                <div class="form-group" style="margin-top: 2rem;">
                    <label>Reset to Defaults</label>
                    <p style="color: #888; font-size: 0.9rem; margin-bottom: 1rem;">
                        ‚ö†Ô∏è This will reset all settings to factory defaults
                    </p>
                    <button class="btn" onclick="resetToDefaults()" style="background: linear-gradient(135deg, #ff4444, #cc0000);">Reset All</button>
                </div>
            </div>
        </div>

        <div class="nav-links">
            <a href="/multimodal-intelligence-working.html">‚Üê Back to Dashboard</a>
            <a href="/">Home</a>
            <a href="/analytics.html">Analytics</a>
            <a href="/contact.html">Contact</a>
        </div>
    </div>

    <script src="/js/multimodal-config.js"></script>
    <script>
        // Initialize configuration
        const config = window.BlazeMultimodalConfig || new MultimodalConfig();

        // Load saved settings on page load
        window.addEventListener('load', () => {
            loadSavedSettings();
            setupEventListeners();
        });

        // Load saved settings
        function loadSavedSettings() {
            // Load API keys (if saved)
            if (config.apiKeys.openai) {
                document.getElementById('openaiKey').value = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
                document.getElementById('openaiStatus').classList.add('valid');
            }
            if (config.apiKeys.anthropic) {
                document.getElementById('anthropicKey').value = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
                document.getElementById('anthropicStatus').classList.add('valid');
            }
            if (config.apiKeys.gemini) {
                document.getElementById('geminiKey').value = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
                document.getElementById('geminiStatus').classList.add('valid');
            }

            // Load performance settings
            const perf = config.getConfig('performance');
            document.getElementById('targetLatency').value = perf.targetLatency;
            document.getElementById('latencyValue').textContent = perf.targetLatency + 'ms';
            document.getElementById('videoFPS').value = perf.videoFPS;
            document.getElementById('fpsValue').textContent = perf.videoFPS;
            document.getElementById('decisionThreshold').value = perf.decisionThreshold;
            document.getElementById('thresholdValue').textContent = perf.decisionThreshold;
            document.getElementById('audioSampleRate').value = perf.audioSampleRate;

            // Load model settings
            const models = config.getConfig('llm');
            document.getElementById('visionModel').value = config.models.vision.type;
            document.getElementById('audioModel').value = config.models.audio.type;
            document.getElementById('llmProvider').value = models.provider;
            document.getElementById('temperature').value = models.temperature;
            document.getElementById('tempValue').textContent = models.temperature;

            // Load team preferences
            const teams = config.getConfig('teams');
            document.getElementById('mlbTeam').value = teams.mlb.primary;
            document.getElementById('nflTeam').value = teams.nfl.primary;
            document.getElementById('ncaaTeam').value = teams.ncaa.primary;
            document.getElementById('nbaTeam').value = teams.nba.primary;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Sliders
            document.getElementById('targetLatency').addEventListener('input', (e) => {
                document.getElementById('latencyValue').textContent = e.target.value + 'ms';
            });
            document.getElementById('videoFPS').addEventListener('input', (e) => {
                document.getElementById('fpsValue').textContent = e.target.value;
            });
            document.getElementById('decisionThreshold').addEventListener('input', (e) => {
                document.getElementById('thresholdValue').textContent = e.target.value;
            });
            document.getElementById('temperature').addEventListener('input', (e) => {
                document.getElementById('tempValue').textContent = e.target.value;
            });
            document.getElementById('cacheDuration').addEventListener('input', (e) => {
                document.getElementById('cacheValue').textContent = e.target.value + ' min';
            });

            // File import
            document.getElementById('configFile').addEventListener('change', importConfig);
        }

        // Save API Keys
        function saveApiKeys() {
            const keys = {
                openai: document.getElementById('openaiKey').value,
                anthropic: document.getElementById('anthropicKey').value,
                gemini: document.getElementById('geminiKey').value,
                huggingface: document.getElementById('huggingfaceKey').value
            };

            let saved = 0;
            for (const [provider, key] of Object.entries(keys)) {
                if (key && key !== '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢') {
                    if (config.setApiKey(provider, key)) {
                        saved++;
                    }
                }
            }

            showAlert(`${saved} API keys saved successfully`, 'success');
        }

        // Test API Keys
        async function testApiKeys() {
            showAlert('Testing API keys...', 'success');
            const results = await config.validateApiKeys();

            for (const [provider, valid] of Object.entries(results)) {
                const status = document.getElementById(`${provider}Status`);
                if (valid) {
                    status.classList.add('valid');
                    status.classList.remove('invalid');
                } else {
                    status.classList.add('invalid');
                    status.classList.remove('valid');
                }
            }

            const validCount = Object.values(results).filter(v => v).length;
            showAlert(`${validCount} of ${Object.keys(results).length} API keys validated`,
                      validCount > 0 ? 'success' : 'error');
        }

        // Save Performance Settings
        function savePerformanceSettings() {
            const settings = {
                targetLatency: parseInt(document.getElementById('targetLatency').value),
                videoFPS: parseInt(document.getElementById('videoFPS').value),
                decisionThreshold: parseFloat(document.getElementById('decisionThreshold').value),
                audioSampleRate: parseInt(document.getElementById('audioSampleRate').value)
            };

            config.updateConfig('performance', settings);
            showAlert('Performance settings saved', 'success');
        }

        // Save Model Settings
        function saveModelSettings() {
            config.models.vision.type = document.getElementById('visionModel').value;
            config.models.audio.type = document.getElementById('audioModel').value;
            config.models.llm.provider = document.getElementById('llmProvider').value;
            config.models.llm.temperature = parseFloat(document.getElementById('temperature').value);

            config.saveConfiguration();
            showAlert('Model settings saved', 'success');
        }

        // Save Team Preferences
        function saveTeamPreferences() {
            const teams = {
                mlb: { primary: document.getElementById('mlbTeam').value },
                nfl: { primary: document.getElementById('nflTeam').value },
                ncaa: { primary: document.getElementById('ncaaTeam').value },
                nba: { primary: document.getElementById('nbaTeam').value }
            };

            config.updateConfig('teams', teams);
            showAlert('Team preferences saved', 'success');
        }

        // Save Data Settings
        function saveDataSettings() {
            const enabled = document.getElementById('liveDataEnabled').value === 'true';
            const cacheDuration = parseInt(document.getElementById('cacheDuration').value) * 60000;
            const websocketUrl = document.getElementById('websocketUrl').value;
            const maxReconnect = parseInt(document.getElementById('maxReconnect').value);

            config.dataSources.cache.enabled = enabled;
            config.dataSources.cache.ttl = cacheDuration;
            config.websocket.url = websocketUrl;
            config.websocket.maxReconnectAttempts = maxReconnect;

            config.saveConfiguration();
            showAlert('Data settings saved', 'success');
        }

        // Export Configuration
        function exportConfig() {
            const exportData = config.exportConfig();
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);

            const exportFileDefaultName = `blaze-config-${new Date().toISOString().slice(0,10)}.json`;

            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();

            showAlert('Configuration exported successfully', 'success');
        }

        // Import Configuration
        function importConfig(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedConfig = JSON.parse(e.target.result);
                    if (config.importConfig(importedConfig)) {
                        loadSavedSettings();
                        showAlert('Configuration imported successfully', 'success');
                    } else {
                        showAlert('Failed to import configuration', 'error');
                    }
                } catch (error) {
                    showAlert('Invalid configuration file', 'error');
                }
            };
            reader.readAsText(file);
        }

        // Reset to Defaults
        function resetToDefaults() {
            if (!confirm('Are you sure you want to reset all settings to defaults? This cannot be undone.')) {
                return;
            }

            localStorage.clear();
            location.reload();
        }

        // Show Alert
        function showAlert(message, type) {
            const container = document.getElementById('alertContainer');
            const alert = document.createElement('div');
            alert.className = `alert ${type}`;
            alert.textContent = message;

            container.innerHTML = '';
            container.appendChild(alert);

            setTimeout(() => {
                alert.remove();
            }, 5000);
        }
    </script>
</body>
</html>