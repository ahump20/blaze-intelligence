<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cardinals Analytics Integration - Code Example</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #333; max-width: 1000px; margin: 0 auto; padding: 2rem; }
        h1 { color: #bf5700; }
        .description { background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0; }
        .code-container { position: relative; margin: 2rem 0; }
        .copy-btn { position: absolute; top: 1rem; right: 1rem; background: #bf5700; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; }
        .back-link { color: #bf5700; text-decoration: none; margin-bottom: 2rem; display: inline-block; }
        pre { background: #1a202c; color: #e2e8f0; padding: 2rem 1rem 1rem; border-radius: 8px; overflow-x: auto; }
    </style>
</head>
<body>
    <a href="/docs/developer-portal.html" class="back-link">‚Üê Back to Developer Portal</a>
    <h1>Cardinals Analytics Integration</h1>
    <div class="description">Complete example of integrating Cardinals analytics into your application</div>
    
    <div class="code-container">
        <button class="copy-btn" onclick="copyCode()">Copy Code</button>
        <pre><code class="language-javascript">// Advanced Cardinals Analytics Integration
class CardinalsAnalyticsWidget {
  constructor(apiKey, containerId) {
    this.api = new BlazeIntelligence({ apiKey });
    this.container = document.getElementById(containerId);
    this.cache = new Map();
    this.setupRealTimeUpdates();
  }
  
  async initialize() {
    try {
      // Load initial data
      const analytics = await this.api.cardinals.getAnalytics();
      this.renderDashboard(analytics);
      
      // Setup auto-refresh
      setInterval(() =&gt; this.refreshData(), 300000); // 5 minutes
      
    } catch (error) {
      this.handleError(error);
    }
  }
  
  renderDashboard(data) {
    const readinessColor = data.readiness &gt; 85 ? 'green' : 
                          data.readiness &gt; 70 ? 'yellow' : 'red';
    
    this.container.innerHTML = `
      <div class="cardinals-dashboard">
        <div class="readiness-score" style="color: ${readinessColor}">
          <h2>${data.readiness.toFixed(1)}%</h2>
          <p>Team Readiness</p>
        </div>
        <div class="performance-metrics">
          <div class="metric">
            <label>Batting Avg:</label>
            <span>${data.performance.batting.average}</span>
          </div>
          <div class="metric">
            <label>Team ERA:</label>
            <span>${data.performance.pitching.era}</span>
          </div>
        </div>
        <div class="trend-indicator ${data.trend}">
          Trend: ${data.trend.toUpperCase()}
        </div>
      </div>
    `;
  }
  
  setupRealTimeUpdates() {
    // WebSocket connection for live updates
    const ws = new WebSocket('wss://blaze-intelligence.netlify.app/ws');
    
    ws.onmessage = (event) =&gt; {
      const update = JSON.parse(event.data);
      if (update.type === 'cardinals-update') {
        this.renderDashboard(update.data);
      }
    };
    
    ws.onerror = (error) =&gt; {
      console.warn('WebSocket connection failed, falling back to polling');
    };
  }
  
  handleError(error) {
    console.error('Cardinals Analytics Error:', error);
    this.container.innerHTML = `
      <div class="error-state">
        <p>Unable to load Cardinals analytics</p>
        <button onclick="this.initialize()">Retry</button>
      </div>
    `;
  }
}

// Usage
const widget = new CardinalsAnalyticsWidget('your-api-key', 'cardinals-widget');
widget.initialize();</code></pre>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        function copyCode() {
            const code = document.querySelector('code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.querySelector('.copy-btn');
                const original = btn.textContent;
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = original, 2000);
            });
        }
    </script>


</body></html>