<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blaze Intelligence - Enterprise Billing Dashboard</title>

    <!-- External Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Three.js Background */
        #three-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
        }

        /* Header */
        .dashboard-header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(191, 87, 0, 0.3);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #BF5700;
            text-shadow: 0 0 20px rgba(191, 87, 0, 0.5);
        }

        .header-stats {
            display: flex;
            gap: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #9BCBEB;
        }

        .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Dashboard */
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .dashboard-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(191, 87, 0, 0.3);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            border-color: rgba(191, 87, 0, 0.6);
            box-shadow: 0 20px 40px rgba(191, 87, 0, 0.2);
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #BF5700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-icon {
            width: 24px;
            height: 24px;
            background: linear-gradient(45deg, #BF5700, #FFD700);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Revenue Metrics */
        .revenue-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .revenue-metric {
            background: rgba(155, 203, 235, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: #9BCBEB;
            margin-bottom: 0.5rem;
        }

        .metric-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .metric-change {
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }

        .metric-change.positive {
            color: #4CAF50;
        }

        .metric-change.negative {
            color: #F44336;
        }

        /* Charts */
        .chart-container {
            height: 300px;
            position: relative;
        }

        .chart-canvas {
            max-height: 100%;
        }

        /* Usage Analytics */
        .usage-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .usage-table th,
        .usage-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .usage-table th {
            background: rgba(191, 87, 0, 0.2);
            color: #BF5700;
            font-weight: 600;
        }

        .tier-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .tier-free {
            background: rgba(128, 128, 128, 0.3);
            color: #A0A0A0;
        }

        .tier-basic {
            background: rgba(76, 175, 80, 0.3);
            color: #4CAF50;
        }

        .tier-pro {
            background: rgba(155, 203, 235, 0.3);
            color: #9BCBEB;
        }

        .tier-enterprise {
            background: rgba(191, 87, 0, 0.3);
            color: #BF5700;
        }

        /* Alerts */
        .alerts-container {
            margin-top: 2rem;
        }

        .alert-item {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .alert-severity {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #F44336;
        }

        .alert-severity.medium {
            background: #FF9800;
        }

        .alert-severity.low {
            background: #4CAF50;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(45deg, #BF5700, #FFD700);
            color: #000;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(191, 87, 0, 0.3);
        }

        .btn-secondary {
            background: rgba(155, 203, 235, 0.2);
            color: #9BCBEB;
            border: 1px solid #9BCBEB;
        }

        .btn-secondary:hover {
            background: rgba(155, 203, 235, 0.3);
        }

        /* Loading States */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 200px;
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(191, 87, 0, 0.3);
            border-top: 2px solid #BF5700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .header-stats {
                display: none;
            }

            .dashboard-container {
                padding: 1rem;
            }

            .revenue-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Glassmorphism Effects */
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Performance Indicators */
        .performance-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .status-good {
            background: #4CAF50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .status-warning {
            background: #FF9800;
            box-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
        }

        .status-critical {
            background: #F44336;
            box-shadow: 0 0 10px rgba(244, 67, 54, 0.5);
        }
    </style>
</head>
<body>
    <!-- Three.js Background -->
    <div id="three-background"></div>

    <!-- Dashboard Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <h1 class="header-title">üèÜ Enterprise Billing Dashboard</h1>
            <div class="header-stats">
                <div class="stat-item">
                    <div class="stat-value" id="total-revenue">$0</div>
                    <div class="stat-label">Monthly Revenue</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="active-users">0</div>
                    <div class="stat-label">Active Users</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="api-requests">0</div>
                    <div class="stat-label">API Requests</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="dashboard-container">
        <!-- Revenue Overview -->
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h2 class="card-title">
                    <div class="card-icon">üí∞</div>
                    Revenue Analytics
                </h2>
                <div class="revenue-grid">
                    <div class="revenue-metric">
                        <div class="metric-value" id="subscription-revenue">$0</div>
                        <div class="metric-label">Subscription Revenue</div>
                        <div class="metric-change positive" id="subscription-change">+0%</div>
                    </div>
                    <div class="revenue-metric">
                        <div class="metric-value" id="usage-revenue">$0</div>
                        <div class="metric-label">Usage Revenue</div>
                        <div class="metric-change positive" id="usage-change">+0%</div>
                    </div>
                    <div class="revenue-metric">
                        <div class="metric-value" id="monthly-growth">0%</div>
                        <div class="metric-label">Monthly Growth</div>
                        <div class="metric-change positive" id="growth-trend">‚ÜóÔ∏è</div>
                    </div>
                    <div class="revenue-metric">
                        <div class="metric-value" id="churn-rate">0%</div>
                        <div class="metric-label">Churn Rate</div>
                        <div class="metric-change negative" id="churn-trend">‚ÜòÔ∏è</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-card">
                <h2 class="card-title">
                    <div class="card-icon">üìä</div>
                    Usage Analytics
                </h2>
                <div class="chart-container">
                    <canvas id="usage-chart" class="chart-canvas"></canvas>
                </div>
            </div>
        </div>

        <!-- Performance Metrics -->
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h2 class="card-title">
                    <div class="card-icon">‚ö°</div>
                    API Performance
                </h2>
                <div class="revenue-grid">
                    <div class="revenue-metric">
                        <div class="metric-value">
                            <span class="performance-indicator status-good"></span>
                            <span id="avg-latency">0ms</span>
                        </div>
                        <div class="metric-label">Average Latency</div>
                    </div>
                    <div class="revenue-metric">
                        <div class="metric-value">
                            <span class="performance-indicator status-good"></span>
                            <span id="success-rate">0%</span>
                        </div>
                        <div class="metric-label">Success Rate</div>
                    </div>
                    <div class="revenue-metric">
                        <div class="metric-value">
                            <span class="performance-indicator status-warning"></span>
                            <span id="error-rate">0%</span>
                        </div>
                        <div class="metric-label">Error Rate</div>
                    </div>
                    <div class="revenue-metric">
                        <div class="metric-value">
                            <span class="performance-indicator status-good"></span>
                            <span id="uptime">99.9%</span>
                        </div>
                        <div class="metric-label">Uptime</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-card">
                <h2 class="card-title">
                    <div class="card-icon">üìà</div>
                    Revenue Forecast
                </h2>
                <div class="chart-container">
                    <canvas id="revenue-chart" class="chart-canvas"></canvas>
                </div>
            </div>
        </div>

        <!-- Tier Usage Table -->
        <div class="dashboard-card">
            <h2 class="card-title">
                <div class="card-icon">üë•</div>
                Subscription Tier Analytics
            </h2>
            <table class="usage-table">
                <thead>
                    <tr>
                        <th>Tier</th>
                        <th>Active Users</th>
                        <th>Total Requests</th>
                        <th>Revenue</th>
                        <th>Avg. Requests/User</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="tier-analytics-body">
                    <!-- Populated by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- System Alerts -->
        <div class="dashboard-card">
            <h2 class="card-title">
                <div class="card-icon">üö®</div>
                System Alerts
            </h2>
            <div class="alerts-container" id="alerts-container">
                <!-- Populated by JavaScript -->
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="btn btn-primary" onclick="generateReport()">
                üìÑ Generate Report
            </button>
            <button class="btn btn-secondary" onclick="exportData()">
                üìä Export Data
            </button>
            <button class="btn btn-secondary" onclick="refreshDashboard()">
                üîÑ Refresh Dashboard
            </button>
        </div>
    </main>

    <!-- Scripts -->
    <script src="js/api-monetization-engine.js"></script>
    <script>
        // üöÄ Enterprise Billing Dashboard Controller
        class EnterpriseBillingDashboard {
            constructor() {
                this.monetizationEngine = window.blazeAPIMonetization;
                this.refreshInterval = 30000; // 30 seconds
                this.charts = {};

                this.initializeThreeJS();
                this.initializeDashboard();
                this.startAutoRefresh();
            }

            /**
             * üé® Initialize Three.js neural network background
             */
            initializeThreeJS() {
                const container = document.getElementById('three-background');
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ alpha: true });

                renderer.setSize(window.innerWidth, window.innerHeight);
                container.appendChild(renderer.domElement);

                // Create neural network nodes
                const nodes = [];
                const connections = [];
                const nodeGeometry = new THREE.SphereGeometry(0.05, 16, 16);
                const nodeMaterial = new THREE.MeshBasicMaterial({
                    color: 0xBF5700,
                    transparent: true,
                    opacity: 0.8
                });

                // Generate nodes
                for (let i = 0; i < 50; i++) {
                    const node = new THREE.Mesh(nodeGeometry, nodeMaterial);
                    node.position.set(
                        (Math.random() - 0.5) * 20,
                        (Math.random() - 0.5) * 20,
                        (Math.random() - 0.5) * 20
                    );
                    nodes.push(node);
                    scene.add(node);
                }

                // Create connections
                for (let i = 0; i < nodes.length; i++) {
                    for (let j = i + 1; j < nodes.length; j++) {
                        if (Math.random() < 0.1) { // 10% connection probability
                            const geometry = new THREE.BufferGeometry();
                            const positions = new Float32Array([
                                nodes[i].position.x, nodes[i].position.y, nodes[i].position.z,
                                nodes[j].position.x, nodes[j].position.y, nodes[j].position.z
                            ]);
                            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

                            const material = new THREE.LineBasicMaterial({
                                color: 0x9BCBEB,
                                transparent: true,
                                opacity: 0.3
                            });

                            const line = new THREE.Line(geometry, material);
                            connections.push(line);
                            scene.add(line);
                        }
                    }
                }

                camera.position.z = 15;

                // Animation loop
                const animate = () => {
                    requestAnimationFrame(animate);

                    // Rotate entire network
                    scene.rotation.x += 0.001;
                    scene.rotation.y += 0.002;

                    // Pulse nodes
                    nodes.forEach((node, index) => {
                        const time = Date.now() * 0.001;
                        node.material.opacity = 0.5 + 0.3 * Math.sin(time + index * 0.1);
                    });

                    renderer.render(scene, camera);
                };
                animate();

                // Handle window resize
                window.addEventListener('resize', () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                });
            }

            /**
             * üìä Initialize dashboard with real data
             */
            async initializeDashboard() {
                try {
                    // Show loading states
                    this.showLoadingStates();

                    // Load revenue analytics
                    const revenueData = await this.monetizationEngine.getRevenueAnalytics('24h');

                    // Update header stats
                    this.updateHeaderStats(revenueData);

                    // Update revenue metrics
                    this.updateRevenueMetrics(revenueData);

                    // Initialize charts
                    this.initializeCharts(revenueData);

                    // Load tier analytics
                    this.updateTierAnalytics();

                    // Load system alerts
                    this.updateSystemAlerts(revenueData.alerts);

                    console.log('üöÄ Enterprise Billing Dashboard initialized');

                } catch (error) {
                    console.error('‚ùå Dashboard initialization failed:', error);
                    this.showErrorState();
                }
            }

            /**
             * üìà Update header statistics
             */
            updateHeaderStats(data) {
                document.getElementById('total-revenue').textContent =
                    `$${data.revenue.total.toLocaleString()}`;
                document.getElementById('active-users').textContent =
                    data.usage.uniqueUsers.toLocaleString();
                document.getElementById('api-requests').textContent =
                    data.usage.totalRequests.toLocaleString();
            }

            /**
             * üí∞ Update revenue metrics
             */
            updateRevenueMetrics(data) {
                document.getElementById('subscription-revenue').textContent =
                    `$${data.revenue.subscription.toLocaleString()}`;
                document.getElementById('usage-revenue').textContent =
                    `$${data.revenue.usage.toLocaleString()}`;
                document.getElementById('monthly-growth').textContent =
                    `${data.revenue.growth}%`;

                // Update change indicators
                const growthChange = document.getElementById('subscription-change');
                growthChange.textContent = `+${data.revenue.growth}%`;
                growthChange.className = data.revenue.growth > 0 ? 'metric-change positive' : 'metric-change negative';

                // Mock churn rate (would come from real analytics)
                document.getElementById('churn-rate').textContent = '2.3%';
            }

            /**
             * üìä Initialize Chart.js charts
             */
            initializeCharts(data) {
                // Usage Analytics Chart
                const usageCtx = document.getElementById('usage-chart').getContext('2d');
                this.charts.usage = new Chart(usageCtx, {
                    type: 'line',
                    data: {
                        labels: this.generateTimeLabels(),
                        datasets: [{
                            label: 'API Requests',
                            data: this.generateUsageData(),
                            borderColor: '#BF5700',
                            backgroundColor: 'rgba(191, 87, 0, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }, {
                            label: 'Unique Users',
                            data: this.generateUserData(),
                            borderColor: '#9BCBEB',
                            backgroundColor: 'rgba(155, 203, 235, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: '#ffffff' }
                            }
                        },
                        scales: {
                            y: {
                                ticks: { color: '#ffffff' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            x: {
                                ticks: { color: '#ffffff' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });

                // Revenue Forecast Chart
                const revenueCtx = document.getElementById('revenue-chart').getContext('2d');
                this.charts.revenue = new Chart(revenueCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Current Month', 'Next Month', 'Q2 Forecast', 'Q3 Forecast'],
                        datasets: [{
                            label: 'Subscription Revenue',
                            data: [data.revenue.subscription, data.predictions.nextMonth * 0.85,
                                   data.predictions.nextQuarter * 0.28, data.predictions.nextQuarter * 0.32],
                            backgroundColor: 'rgba(191, 87, 0, 0.8)',
                            borderColor: '#BF5700',
                            borderWidth: 2
                        }, {
                            label: 'Usage Revenue',
                            data: [data.revenue.usage, data.predictions.nextMonth * 0.15,
                                   data.predictions.nextQuarter * 0.18, data.predictions.nextQuarter * 0.22],
                            backgroundColor: 'rgba(155, 203, 235, 0.8)',
                            borderColor: '#9BCBEB',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: '#ffffff' }
                            }
                        },
                        scales: {
                            y: {
                                ticks: {
                                    color: '#ffffff',
                                    callback: function(value) { return '$' + value.toLocaleString(); }
                                },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            x: {
                                ticks: { color: '#ffffff' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }

            /**
             * üë• Update tier analytics table
             */
            updateTierAnalytics() {
                const tierData = [
                    { tier: 'free', users: 342, requests: 28430, revenue: 0, avgRequests: 83, status: 'active' },
                    { tier: 'basic', users: 89, requests: 67420, revenue: 2581, avgRequests: 757, status: 'growing' },
                    { tier: 'pro', users: 34, requests: 145600, revenue: 3366, avgRequests: 4282, status: 'excellent' },
                    { tier: 'enterprise', users: 8, requests: 287300, revenue: 2392, avgRequests: 35912, status: 'premium' }
                ];

                const tbody = document.getElementById('tier-analytics-body');
                tbody.innerHTML = '';

                tierData.forEach(tier => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td><span class="tier-badge tier-${tier.tier}">${tier.tier}</span></td>
                        <td>${tier.users.toLocaleString()}</td>
                        <td>${tier.requests.toLocaleString()}</td>
                        <td>$${tier.revenue.toLocaleString()}</td>
                        <td>${tier.avgRequests.toLocaleString()}</td>
                        <td>
                            <span class="performance-indicator ${tier.status === 'excellent' ? 'status-good' :
                                tier.status === 'growing' ? 'status-warning' : 'status-good'}"></span>
                            ${tier.status}
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            }

            /**
             * üö® Update system alerts
             */
            updateSystemAlerts(alerts) {
                const container = document.getElementById('alerts-container');
                container.innerHTML = '';

                if (!alerts || alerts.length === 0) {
                    container.innerHTML = '<p style="color: rgba(255, 255, 255, 0.6);">No active alerts</p>';
                    return;
                }

                alerts.forEach(alert => {
                    const alertDiv = document.createElement('div');
                    alertDiv.className = 'alert-item';
                    alertDiv.innerHTML = `
                        <div class="alert-severity ${alert.severity}"></div>
                        <div>
                            <strong>${alert.type.toUpperCase()}</strong>: ${alert.message}
                            <br>
                            <small style="color: rgba(255, 255, 255, 0.6);">
                                ${new Date(alert.timestamp).toLocaleString()}
                            </small>
                        </div>
                    `;
                    container.appendChild(alertDiv);
                });
            }

            /**
             * üîÑ Start auto-refresh functionality
             */
            startAutoRefresh() {
                setInterval(() => {
                    this.refreshDashboard();
                }, this.refreshInterval);
            }

            /**
             * ‚è≥ Show loading states
             */
            showLoadingStates() {
                const loadingElements = [
                    'total-revenue', 'active-users', 'api-requests',
                    'subscription-revenue', 'usage-revenue', 'monthly-growth'
                ];

                loadingElements.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.innerHTML = '<div class="spinner"></div>';
                    }
                });
            }

            /**
             * ‚ùå Show error state
             */
            showErrorState() {
                const container = document.querySelector('.dashboard-container');
                container.innerHTML = `
                    <div class="dashboard-card" style="text-align: center; padding: 4rem;">
                        <h2 style="color: #F44336; margin-bottom: 1rem;">‚ö†Ô∏è Dashboard Error</h2>
                        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 2rem;">
                            Unable to load billing dashboard. Please check system status.
                        </p>
                        <button class="btn btn-primary" onclick="location.reload()">
                            üîÑ Retry
                        </button>
                    </div>
                `;
            }

            /**
             * üìä Generate mock time-series data
             */
            generateTimeLabels() {
                const labels = [];
                for (let i = 23; i >= 0; i--) {
                    const time = new Date(Date.now() - (i * 60 * 60 * 1000));
                    labels.push(time.getHours() + ':00');
                }
                return labels;
            }

            generateUsageData() {
                const data = [];
                for (let i = 0; i < 24; i++) {
                    data.push(Math.floor(Math.random() * 1000) + 500);
                }
                return data;
            }

            generateUserData() {
                const data = [];
                for (let i = 0; i < 24; i++) {
                    data.push(Math.floor(Math.random() * 100) + 50);
                }
                return data;
            }
        }

        // üöÄ Global Dashboard Functions
        async function refreshDashboard() {
            const dashboard = window.billingDashboard;
            if (dashboard) {
                await dashboard.initializeDashboard();
                console.log('üîÑ Dashboard refreshed');
            }
        }

        function generateReport() {
            // Mock report generation
            alert('üìÑ Generating comprehensive billing report...\n\nReport will be emailed to your registered address.');
        }

        function exportData() {
            // Mock data export
            alert('üìä Exporting billing data to CSV...\n\nDownload will begin shortly.');
        }

        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.billingDashboard = new EnterpriseBillingDashboard();
        });

        // Performance monitoring
        window.addEventListener('load', () => {
            const loadTime = performance.now();
            console.log(`üöÄ Enterprise Billing Dashboard loaded in ${Math.round(loadTime)}ms`);
        });
    </script>

</body></html>