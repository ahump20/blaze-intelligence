name: Lighthouse Performance Audit
on: 
  push:
    branches: [main]
  pull_request:
    branches: [main]
    
jobs:
  lighthouse:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Run Lighthouse CI
        uses: treosh/lighthouse-ci-action@v10
        with:
          urls: |
            https://blaze-intelligence.netlify.app/
            https://blaze-intelligence.netlify.app/dashboard.html
            https://blaze-intelligence.netlify.app/status.html
          budgetPath: .lighthouse/budget.json
          uploadArtifacts: true
          temporaryPublicStorage: true
          
      - name: Performance Report Summary
        if: success() || failure()
        run: |
          echo "## ðŸš€ Lighthouse Performance Results" >> $GITHUB_STEP_SUMMARY
          echo "Performance audit completed for Blaze Intelligence dashboard" >> $GITHUB_STEP_SUMMARY
          echo "Target scores: Performance 90+, Accessibility 90+, Best Practices 90+, SEO 95+" >> $GITHUB_STEP_SUMMARY